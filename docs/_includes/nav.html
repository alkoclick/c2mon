{% assign navurl = page.url | remove: 'index.html' %}
Base {{ site.baseurl }}
<ul>
{% for item in include.nav %}
    {% if item.url %}
      {% assign fullUrl = item.url | prepend:include.base %}
    {% else %}
      {% assign fullUrl = item.text | replace:"/","-" | replace:" ","-"
        | downcase | prepend:include.base %}
    {% endif %}
    <li>
      <!-- Leading slash so our links are not relative to
      currently navigated page (baaaad!) -->
        <a href="/{{ fullUrl }}">
            {% if navurl contains fullUrl%}
                <b>{{ item.text }}</b>
            {% else %}
                {{ item.text }}
            {% endif %}
        </a>
    </li>
    {% if item.subitems and navurl contains fullUrl %}
      <!-- Allows for skipping the "/" in menu.yml entries -->
        {% assign fullUrl = fullUrl | append:"/" %}
        {% include nav.html nav=item.subitems base=fullUrl %}
    {% endif %}
{% endfor %}
</ul>
